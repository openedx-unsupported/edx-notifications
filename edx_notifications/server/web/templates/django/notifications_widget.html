{% comment %}

This is a "drop-in" Django template widget to instantiate the edx-notifications front end application
which is a Backbone application that is defined in edx_notifications/server/web/static/js

This HTML snippet assumes that jQuery been included in the page that is using this widget

{% endcomment %}

<div id='edx_notification_counter'></div>
<div id="edx_notification_pane"></div>

<script type="text/javascript">
var edxnotificationsAppConfiguration = {
        endpoints: {
            unread_notification_count: "{% autoescape off %}{{ endpoints.unread_notification_count }}{% endautoescape %}",
            mark_all_user_notifications_read: "{% autoescape off %}{{ endpoints.mark_all_user_notifications_read }}{% endautoescape %}",
            user_notifications_all: "{% autoescape off %}{{ endpoints.user_notifications_all }}{% endautoescape %}",
            user_notifications_unread_only: "{% autoescape off %}{{ endpoints.user_notifications_unread_only }}{% endautoescape %}",
            renderer_templates_urls: "{% autoescape off %}{{ endpoints.renderer_templates_urls }}{% endautoescape %}"
        },
        global_variables: {
            app_name: "{{ global_variables.app_name }}"
        },
        refresh_watcher: {
            name: "{{refresh_watcher.name}}",
            args: {
            {% if refresh_watcher.name == 'short-poll' %}
                poll_period_secs: {{ refresh_watcher.args.poll_period_secs }}
            {% endif %}
            }
        },
        view_templates: {
            notification_icon: "{% autoescape off %}{{ view_templates.notification_icon }}{% endautoescape %}",
            notification_pane: "{% autoescape off %}{{ view_templates.notification_pane }}{% endautoescape %}"
        }
};
</script>

